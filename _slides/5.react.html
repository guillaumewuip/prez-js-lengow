---
# React
---

<section class="slide">

    <section class="slide text-center"
        data-background-color="hsl(222, 67%, 58%)">
        <div class="content">
            <h1>
                <span class="small fade-white">2.</span>
                React
            </h1>
            <p class="fragment small text-right u-margin-top">Eh bah enfin !</p>
        </div>
    </section>

    <section class="slide">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h2 class="sub-head">React</h2>
                <h1>C'est quoi ?</h1>

                <ul class="w100">
                    <li>
                        <img class="no-border u-margin-none"
                        src="media/fb.png" alt="">
                    </li>
                    <li>
                        Librairie de templating
                        <p class="small">ie. ‚â† framework, ‚â† mod√®le</p>
                    </li>
                    <li>
                        Caract√©ristiques
                        <p class="small">Composants, JSX</p>
                    </li>
                    <li><em>De l'HTML dans du JS</em></li>
                </ul>
            </div>
        </div>

        <div class="col-6 row row-align-center text-center">
            <div class="content">
                <p class="fragment"><em>data ‚ü∑ vue HTML</em></p>
                <div class="fragment text-left u-margin-top">
                    <p class="small"><b>Exemple</b></p>
                    <div class="js-react-example1"></div>
                </div>
            </div>
        </div>

    </section>

    <section class="slide">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h2 class="sub-head">React</h2>
                <h1>Un composant</h1>
                <ul>
                    <li>Le cr√©er</li>
                    <li>L'attacher</li>
                </ul>

                <div class="small u-margin-top fragment"
                    data-fragment-index="0">
                    <b>Exemples</b>
                    <div class="fragment js-react-example2-1"
                        data-fragment-index="0"></div>
                    <div class="fragment js-react-example2-2"
                        data-fragment-index="1"></div>
                </div>
            </div>
        </div>

        <div class="col-6">

            <pre class="full fragment current-visible"
                data-fragment-index="0">
                <code class="full language-jsx">
import React from 'react';

class Example2_1 extends React.Component {
    render() {
        return (
            &lt;p&gt;Hello world&lt;/p&gt;
        );
    }
};

ReactDOM.render(
    &lt;Example2_1 /&gt;,
    document.querySelector('.js-react-example2-1')
);
                </code>
            </pre>
            <pre class="full fragment current-visible"
                data-fragment-index="1">
                <code class="full language-jsx">
import React from 'react';

const Example2_2 = () => (
    &lt;p&gt;Hello world&lt;/p&gt;
);

ReactDOM.render(
    &lt;Example2_2 /&gt;,
    document.querySelector('.js-react-example2-2')
);
                </code>
            </pre>
        </div>

    </section>

    <section class="slide">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h2 class="sub-head">React</h2>
                <h1><code>props</code></h1>
                <p>Passer n'importe quoi au composant</p>
                <ul>
                    <li>Des donn√©es</li>
                    <li class="fragment" data-fragment-index="2">
                        Des fonctions
                    </li>
                </ul>

                <div class="small u-margin-top fragment"
                    data-fragment-index="0">
                    <b>Exemples</b>
                    <div class="fragment js-react-example3-1"
                        data-fragment-index="0"></div>
                    <div class="fragment js-react-example3-2"
                        data-fragment-index="1"></div>
                </div>
            </div>
        </div>

        <div class="col-6 max">

            <pre class="full fragment current-visible"
                data-fragment-index="0" data-line="5,12">
                <code class="full language-jsx">
class Example3_1 extends React.Component {
    render() {
        return (
            &lt;p&gt;{this.props.text}&lt;/p&gt;
        );
    }
};

ReactDOM.render(
    &lt;Example3_1
        text="Petit poney"
        /&gt;,
    document.querySelector('.js-react-example3-1')
);
                </code>
            </pre>
            <pre class="full fragment current-visible"
                data-fragment-index="1" data-line="3,8">
                <code class="full language-jsx">
const Example3_2 = (props) => (
    &lt;p&gt;{props.text}&lt;/p&gt;
);

ReactDOM.render(
    &lt;Example3_2
        text="Petit poney"
        /&gt;,
    document.querySelector('.js-react-example3-2')
);

                </code>
            </pre>
            <pre class="full fragment current-visible"
                data-fragment-index="2" data-line="4,12">
                <code class="full language-jsx">
const Example3_2 = (props) => (
    &lt;p
        onClick={props.coucou}&gt;
        {props.text}
        &lt;/p&gt;
);

ReactDOM.render(
    &lt;Example3_2
        text="Petit poney"
        coucou={() => alert('coucou');} /&gt;,
    document.querySelector('.js-react-example3-2')
);

                </code>
            </pre>
        </div>

    </section>

    <section class="slide">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h2 class="sub-head">React</h2>
                <h1>Jouer aux Legos‚Ñ¢</h1>
                <p>ie. composition de composants</p>

                <div class="small u-margin-top fragment"
                    data-fragment-index="0">
                    <b>Exemple</b>
                    <div class="fragment js-react-example4-1"
                        data-fragment-index="0"></div>
                </div>
            </div>
        </div>

        <div class="col-6">

            <pre class="full fragment current-visible"
                data-fragment-index="0">
                <code class="full language-jsx">

const Item = (props) => (
    &lt;li&gt;{props.emoji}&lt;/li&gt;
);

const List () =&gt; (
    &lt;div&gt;
        &lt;p&gt;Famille Poney:&lt;/p&gt;
        &lt;ul&gt;
            &lt;Item emoji="üê¥" /&gt;
            &lt;Item emoji="üêé" /&gt;
            &lt;Item emoji="üèá" /&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
);

ReactDOM.render(
    &lt;List /&gt;,
    document.querySelector('.js-react-example4-1')
);
                </code>
            </pre>

            <pre class="full fragment current-visible"
                data-fragment-index="2">
                <code class="full language-jsx">

const List = (props) => {
    const poneys = props.poneys.map((p, i) => (
        &lt;Item key={i} emoji={p} /&gt;
    ));
    return (&lt;div&gt;
        &lt;p&gt;Famille Poney :&lt;/p&gt;
        &lt;ul&gt;{poneys}&lt;/ul&gt;
    &lt;/div&gt;);
};

const poneys = ['üê¥', 'üêé', 'üèá'];

ReactDOM.render(
    &lt;List poneys={poneys} /&gt;,
    document.querySelector('.js-react-example4-1')
);
                </code>
            </pre>

        </div>

        <div class="over-all fragment current-visible"
            data-fragment-index=1">
            <div class="h100 row row-align-center text-center">
                <img class="over-all-image" src="media/deeper.jpg" alt="">
            </div>
        </div>

    </section>

    <section class="slide">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h2 class="sub-head">React</h2>
                <h1><code>state</code></h1>
                <p>L'√©tat du composant</p>

                <div class="small u-margin-top fragment"
                    data-fragment-index="0">
                    <b>Exemple</b>
                    <div class="fragment js-react-example5-1"
                        data-fragment-index="0"></div>
                </div>
            </div>
        </div>

        <div class="col-6">

            <pre class="full fragment current-visible"
                data-fragment-index="0">
                <code class="full language-jsx">

const Item = ({ poney }) => (
    &lt;li&gt;{poney.emoji} ({poney.color})&lt;/li&gt;
);

const List = (props) => {
    var poneys = props.poneys.map((p, i) => (
        &lt;Item key={i} poney={p} /&gt;
    ));
    return (&lt;div&gt;
        &lt;p&gt;Famille Poney :&lt;/p&gt;
        &lt;ul&gt;{poneys}&lt;/ul&gt;
    &lt;/div&gt;);
};

const poneys = [{ emoji: 'üê¥', color: 'red' }, ... ];

ReactDOM.render(
    &lt;List poneys={poneys} /&gt;,
    document.querySelector('.js-react-example5-1')
);
                </code>
            </pre>

            <pre class="full fragment current-visible"
                data-fragment-index="1">
                <code class="full language-jsx">

const FilterBar = ({ filter }) => (
    &lt;div&gt;
        &lt;button
            onClick={() =&gt; filter('all')}&gt;
            Tout
        &lt;/button&gt;
        &lt;button
            onClick={() =&gt; filter('red')}&gt;
            Rouge
        &lt;/button&gt;
        &lt;button
            onClick={() =&gt; filter('blue')}&gt;
            Bleu
        &lt;/button&gt;
    &lt;/div&gt;
);
                </code>
            </pre>

            <pre class="full fragment current-visible"
                data-fragment-index="2">
                <code class="full language-jsx">
class List extends React.component {
    constructor() {
        super();
        this.state = {
            filter: 'all',
        };
    }
    _handleFilter(filter) {
        this.setState({ filter: filter });
    }
    ...
                </code>
            </pre>

            <pre class="full fragment current-visible"
                data-fragment-index="3">
                <code class="full language-jsx">
    ...
    render() {
        var poneys = this.props.poneys
            .filter((p) => {
                return this.state.filter === 'all'
                    || this.state.filter === p.color;
            })
            .map((p, i) => (
                &lt;Item key={i} poney={p.emoji} /&gt;
            ));

        return (&lt;div&gt;
            &lt;p&gt;Famille Poney :&lt;/p&gt;
            &lt;ul&gt;{poneys}&lt;/ul&gt;
            &lt;FilterBar
                filter={this._handleFilter.bind(this)}
            /&gt;
        &lt;/div&gt;);
    }
};
                </code>
            </pre>
        </div>

    </section>

    <section class="slide">

        <div class="content">

            <h1 class="text-center">
                <code>props</code> vs <code>state</code>
            </h1>

            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th><code>props</code></th>
                        <th><code>state</code></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Pourquoi ?</td>
                        <td>Configuration</td>
                        <td>√âtat</td>
                    </tr>
                    <tr>
                        <td>Pr√©sence</td>
                        <td>Habituelle</td>
                        <td>Rare</td>
                    </tr>
                    <tr>
                        <td>Modifiable*</td>
                        <td>Non (immuable)</td>
                        <td>Oui**</td>
                    </tr>
                    <tr>
                        <td>Utilisation</td>
                        <td>Tout le temps</td>
                        <td>Le moins possible</td>
                    </tr>
                </tbody>
            </table>
            <p class="small text-right u-margin-top">
                * Du point de vue du composant
            </p>
            <p class="small text-right">
                ** Cr√©e un nouveau <code>render()</code> du composant
            </p>

        </div>

    </section>

    <section class="slide row row-align-center">
        <div class="col-6">
            <div class="content">

                <h1>React</h1>

                <p>‚òû Point de mi-parcours</p>

                <ul>
                    <li>syst√®me de vue puissant</li>
                    <li>retour au JS</li>
                </ul>

                <div class="fragment" data-fragment-index="1">
                    <p>‚òû Mais ne r√©sout pas tous les probl√®mes</p>
                    <blockquote class="small">
                        Que se passe-t-il si le m√™me jeu de donn√©es est utilis√©
                        par plusieurs composants ?
                    </blockquote>
                </div>

            </div>
        </div>
        <div class="col-6">
            <div class="content">
                <img src="media/bill.gif" alt="">
            </div>
        </div>
    </section>

</section>
