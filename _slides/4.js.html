---
# ++JS
---

<section class="slide">

    <section class="slide text-center"
        data-background-color="hsl(222, 67%, 58%)">
        <div class="content">
            <h1>
                <span class="small fade-white">1.</span>
                <code>JS</code> like a boss
            </h1>
        </div>
    </section>

    <section class="slide">
        <div class="col-6">
            <div class="content">
                <h1>ES6</h1>
                <p>Quelques petits trucs sympas* pour √©crire du meilleur code.
                </p>
                <p class="small text-right">* Parmi pleins d'autres</p>
            </div>
        </div>
        <div class="col-6">
            <div class="content fragment small">
                <blockquote class="u-italic">
                    Cet homme est fou üò±<br>
                    Les navigateurs ne vont pas supporter √ßa avant 2038 !
                </blockquote>
                <blockquote class="u-italic">
                    Pas d'inqui√©tude !<br>
                    Webpack va nous permettre de faire du transpilling <br>
                    ES6 ‚Üí ES5 üëå
                </blockquote>
            </div>
        </div>
    </section>

    <section class="slide mod-full">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h1>ES6</h1>
                <ul>
                    <li>
                        Arrow function
                    </li>
                    <li class="fragment" data-fragment-index="2">
                        <code>const</code>, <code>let</code>
                    </li>
                    <li class="fragment" data-fragment-index="4">
                        Default params
                    </li>
                    <li class="fragment" data-fragment-index="5">
                        Template de cha√Æne
                    </li>
                    <li class="fragment" data-fragment-index="6">
                        Promise
                    </li>
                    <li class="fragment" data-fragment-index="8">
                        <code>fetch()</code>
                    </li>
                    <li class="fragment" data-fragment-index="9">
                        modules et <code>class</code>
                    </li>
                </ul>
            </div>
        </div>

        <div class="col-6 max">

            <div class="w100 h100 fragment current-visible"
                data-fragment-index="10" >
                <div class="h100 row row-align-center text-center">
                    <div> <img src="media/es6.png" alt=""> </div>
                </div>
            </div>

            <pre class="full fragment fade-out" data-fragment-index="10">
                <code class="full fragment current-visible language-js"
                    data-fragment-index="0">
'use strict';

//ES5
[1, 2, 3].map(function (i) {
    return i * 2;
}); // [1, 4, 6]

//ES6
[1, 2, 3].map((i) => i * 2); // [2, 4, 6]
                </code>
                <code class="full fragment current-visible language-js mark-this"
                    data-fragment-index="1">
'use strict';

//ES6
const MyConstructor = function () {

    //this est MyConstructor

    this.arr = [1, 2, 3];

    return this.arr.map((i) => {
        //this est toujours MyConstructor
        return i * this.arr.length;
    });
};

MyConstructor(); // [3, 6, 9];
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="2">
'use strict';

//ES5
for (let i = 0; i <= 21; i++) {
    var j = i * 2;
}
console.log(j); //42 ¬Ø\_(„ÉÑ)_/¬Ø

//ES6
for (const i = 0; i <= 21; i++) {
    let j = i * 2;
}
console.log(j); //ReferenceError: j is not defined üëç
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="3">
'use strict';

//ES6
const a = 1234;
a = 5678;
//TypeError: Assignment to constant variable
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="4">
'use strict';

//ES5
var add = function (a, b) {
    if (arguments.length === 1) {
        b = 0; //default
    }
    return a + b;
};
add(1); // 1

//ES6
const add = (a, b = 0) => a + b;
add(1); // 1
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="5">
'use strict';

//ES5
var name = 'Toto';
var text = 'Salut ' + name + '\n Comment tu vas ?';
// Salut Toto
// Comment tu vas ?

//ES6
const name = 'Toto';
const text = `Salut ${name}
Comment tu vas ?`;
// Salut Toto
// Comment tu vas ?
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="6">
'use strict';

//ES5
//callback hell
doSomethingAsync(function () {
    doSomethingElse(function () {
        maybeSomethingElse(function () {
            ...
            console.log('done');
        });
    });
});

//ES6
doSomething()
    .then(doSomethingElse)
    .then(maybeSomethingElse)
    .then(() => console.log('done'))
    .catch((err) => console.log(err));
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="7">
'use strict';

const doSomethingAsync = (something) => {
    return new Promise((resolve, reject) => {
        doSomething(something, (err, result) => {
            if (err) {
                reject(err);
            } else {
                resolve(result);
            }
        });
    });
};

doSomethingAsync('toto')
    .then((result) => console.log(result))
    .catch((err) => console.log(err));
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="8">
'use strict';

fetch('http://my-api.io/poneys')
    .then(doSomething);
                </code>
                <code class="full fragment current-visible language-js"
                    data-fragment-index="9">
// ./services/myService.js
'use strict';

export class Say extends Something {
    constructor(msg) {
        this.msg = msg;
    }
    saySomething() {
        console.log(this.msg);
    }
};

export getSomething = () => {
    return fetch('http://my-api.io/poneys');
};

// app.js
'use strict';

import { Say, getSomething } from './services/myService';

const say = new Say('hello world');
say.saySomething(); //hello world

getSomething().then(doSomething);
                </code>
            </pre>
        </div>

    </section>

    <section class="slide">
        <div class="col-6">
            <div class="content">
                <h1>Œª</h1>
                <p>Vous prendrez bien un peu de programmation fonctionnelle ?
                </p>
            </div>
        </div>
        <div class="col-6">
            <div class="fragment text-center">
                <p>f : <i>input</i> ‚üº<i>output</i></p>
                <p><i>vs</i></p>
                <p>mauvaises pratiques jQuery</p>
            </div>
        </div>
    </section>

    <section class="slide mod-full">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h1>Œª en JS <span class="small">(extraits)</span></h1>
                <ul>
                    <li>Fonctions pures</li>
                    <li class="fragment" data-fragment-index="1">
                        <code>map</code>,
                        <code>filter</code>,
                        <code>reduce</code>
                    </li>
                    <li class="fragment" data-fragment-index="3">
                        Cl√¥ture/Closure
                    </li>
                </ul>
            </div>
        </div>

        <div class="col-6 max">
            <pre class="full">

                <code class="full fragment current-visible language-js"
                    data-fragment-index="0">
'use strict';

const $form = $('.js-my-form'),
      $cgu  = $('.js-cgu');

//BAD
const checkAndSubmit = () => {
    if ($cgu.prop('checked')) {
        $form.submit();
    }
};
checkAndSubmit();

//GOOD
const checkAndSubmit = ($form, $cgu) => {
    if ($cgu.prop('checked')) {
        $form.submit();
    }
};
checkAndSubmit($form, $cgu);

                </code>

                <code class="full fragment current-visible language-js"
                    data-fragment-index="1">
'use strict';

const petitsPoneys = [ ... ];

const grandsPoneys = petitsPoneys.map(
    (p) => grandir(p)
);

const grandsPoneysRouges = grandsPoneys.filter(
    (p) => p.color === 'red'
);

const famillePoney = grandsPoneys.reduce(
    (famille, poney) => {
        return `${famille} ${poney.emoji}`;
    },
    'Famille : '
); // 'Famille : üê¥ üêé üèá

                </code>

                <code class="full fragment current-visible language-js"
                    data-fragment-index="2">
'use strict';

//BTW, don't use the for loop

const poneys = [ ... ];

//BAD
for (const i = 0; i < poneys.length; i++) {
    const poney = poneys[i];
    doSomething(poney);
}

//GOOD
poneys.forEach(doSomething);

                </code>

                <code class="full fragment current-visible language-js"
                    data-fragment-index="3">
'use strict';

const buildColorFilter = (color) => (poney) => {
    return poney.color === color;
};

const
    filterRouge = buildColorFilter('red'),
    filterBleu  = buildColorFilter('blue');

const
    poneysRouges = poneys.filter(filterRouge),
    poneysBleus  = poneys.filter(filterBleu);

                </code>

            </pre>
        </div>

    </section>

    <section class="slide mod-full">

        <div class="col-6 row row-align-center">
            <div class="content">
                <h1>Œª en JS </h1>
                <ul>
                    <li>Moins de bugs</li>
                    <li>Fonctions puissantes</li>
                    <li>Test facile</li>
                </ul>
            </div>
        </div>

        <div class="col-6 row row-align-center">
            <div class="text-center">
                <img class="w100" src="media/54.gif">
                <p class="small">(√áa doit faire cet effet l√†)</p>
            </div>
        </div>

    </section>


</section>
